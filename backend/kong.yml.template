_format_version: "3.0"
_transform: true

services:
  - name: project-service
    url: ${PROJECT_SERVICE_URL}
    routes:
      - name: project-route
        paths: [/project]
        strip_path: false
        
  - name: task-service
    url: ${TASK_SERVICE_URL}
    routes:
      - name: task-route
        paths: [/task]
        strip_path: false
  - name: subtask-service
    url: ${SUBTASK_SERVICE_URL}
    routes:
      - name: subtask-route
        paths: [/subtask]
        strip_path: false
  - name: notification-service
    url: ${NOTIFICATION_SERVICE_URL}
    routes:
      - name: notification-route
        paths: [/notification]
        strip_path: false


plugins:
  # Global CORS Plugin
  - name: cors
    enabled: true
    config:
      origins: ["*"]
      methods: [GET, POST, PUT, DELETE, PATCH, OPTIONS, HEAD]
      headers:
        - Accept
        - Accept-Version
        - Content-Length
        - Content-MD5
        - Content-Type
        - Date
        - X-Auth-Token
        - Authorization
      exposed_headers: [X-Auth-Token]
      credentials: true
      max_age: 3600
      preflight_continue: false

  

